"use strict";import r,{createTemplate as n,preparePayload as o}from"./templates.js";export{n as createTemplate};import i from"just-extend";class p{#t="";constructor(t){this.#t=t}get templates(){return r}get url(){return this.#t}static createTemplate=n;async sendTemplate(t,s){if(typeof t!="string")throw new Error("template must be a string");if(!r.has(t))throw new Error("template not found");const e=o(s);return await fetch(this.#t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i({},r.get(t),e))}).then(a=>a.json())}async send(t){return fetch(this.#t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o(t))}).then(e=>e.json())}}export default p;
